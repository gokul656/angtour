package com.malware.angtour.exception;

import com.fasterxml.jackson.annotation.JsonInclude;
import lombok.AllArgsConstructor;
import lombok.Getter;
import lombok.Setter;

import java.util.ArrayList;
import java.util.List;

@Getter
@Setter
@JsonInclude(value = JsonInclude.Include.NON_NULL)
public class Error {
    private final int status;
    private final String message;
    private List<Field> errors = new ArrayList<>();

    Error(int status, String message) {
        this.status = status;
        this.message = message;
    }

    public void addFieldError(String path, String message) {
        Field error = new Field(path, message);
        errors.add(error);
    }

    @AllArgsConstructor
    static class Field {
        public String field;
        public String message;
    }
}
